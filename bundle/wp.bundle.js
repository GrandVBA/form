window.onload=function(){!function(){if(!document.getElementById&&!document.createTextNode)return;let e="activetrigger",t="trigger",n="dropdownhidden",o="dropdownvisible",r=0,a=new Array,l=document.getElementsByTagName("select");for(let i=0;i<l.length;i++)if(s(l[i],"turnintodropdown")){let d=document.createElement("input");d.name=l[i].name,d.type="hidden",d.id=l[i].id,d.value=l[i].options[0].value,l[i].parentNode.insertBefore(d,l[i]);let s=document.createElement("a");u(s,t),s.href="#",s.onclick=function(){return c(this,t,e),c(this.parentNode.getElementsByTagName("ul")[0],n,o),!1},s.appendChild(document.createTextNode(l[i].options[0].text)),l[i].parentNode.insertBefore(s,l[i]);let m=document.createElement("ul");for(let r=0;r<l[i].getElementsByTagName("option").length;r++){let a=document.createElement("li"),u=document.createElement("a");a.v=l[i].getElementsByTagName("option")[r].value,a.elm=d,a.istrigger=s,u.href="#",u.appendChild(document.createTextNode(l[i].getElementsByTagName("option")[r].text)),a.onclick=function(){return this.elm.value=this.v,c(this.istrigger,e,t),c(this.parentNode,o,n),this.istrigger.firstChild.nodeValue=this.firstChild.firstChild.nodeValue,!1},a.appendChild(u),m.appendChild(a)}u(m,n);let f=document.createElement("div");f.appendChild(m),u(f,"dropcontainer"),l[i].parentNode.insertBefore(f,l[i]),a[r]=l[i],r++}let d=document.getElementsByTagName("ul");for(let e=0;e<d.length;e++)if(s(d[e],"turnintoselect")){let t=document.createElement("form"),n=document.createElement("select");for(j=0;j<d[e].getElementsByTagName("a").length;j++){let t=document.createElement("option");t.value=d[e].getElementsByTagName("a")[j].href,t.appendChild(document.createTextNode(d[e].getElementsByTagName("a")[j].innerHTML)),n.appendChild(t)}n.onchange=function(){window.location=this.options[this.selectedIndex].value},t.appendChild(n),d[e].parentNode.insertBefore(t,d[e]),a[r]=d[e],r++}for(i=0;i<r;i++)a[i].parentNode.removeChild(a[i]);function s(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)}function c(e,t,n){let o=e.className;e.className=s(e,t)?o.replace(t,n):o.replace(n,t)}function u(e,t){s(e,t)||(e.className+=""==e.className?t:" "+t)}}()},function(){const e=document.querySelector(".content"),t=document.querySelector(".content__wrp"),n=document.querySelector(".content__sign-in"),o=function(e,t){const n=document.querySelector("#feedback").content.querySelector(".feedback").cloneNode(!0);return n.querySelector(".feedback__title").textContent=e,n.querySelector(".feedback__text").textContent=t,n};window.submitHandler=function(i){window.upload(new FormData(i),(function(){t.classList.add("hidden"),e.insertBefore(o("Thank You!","you registered!"),n)}),(function(i,r){t.classList.add("hidden"),e.insertBefore(o(i,r),n)}))}}(),(()=>{"use strict";window.upload=function(e,t,n){const o=new XMLHttpRequest;o.responseType="json",o.addEventListener("load",(function(){t(o.response)})),o.addEventListener("error",(function(){n("Error!","Connection error!")})),o.addEventListener("timeout",(function(){n("Error!","There is no answer for "+o.timeout/100+" seconds")})),o.timeout=1e4,o.open("POST","http://httpbin.org/post"),o.send(e)}})(),window.validation={main:function(e,t){const n=document.querySelectorAll(".form__input"),o=document.querySelector(".form__submit"),i=document.querySelector(".form__input--password"),r=document.querySelector(".form__input--c-password"),a=document.querySelector(".form__control--c-password"),l=document.querySelector(".form__input--email");window.setTimeout((function(){o.classList.remove("error"),a.classList.remove("error")}),400);for(let e=0;e<n.length;e++)""===n[e].value?n[e].classList.add("invalid"):n[e].classList.remove("invalid");for(let e=0;e<n.length;e++){if(""===n[e].value)return o.classList.add("error"),n[e].focus(),n[e].setCustomValidity("Required field"),n[e].reportValidity(),!1;if(""===n[e].value)break}if(/\S+@\S+\.\S+/.test(e))return l.setCustomValidity(""),l.classList.remove("invalid-email"),/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{8,}/.test(t)?(i.setCustomValidity(""),i.classList.remove("invalid"),i.value===r.value||(a.classList.add("error"),o.classList.add("error"),r.setCustomValidity("Password not confirmed"),r.reportValidity(),!1)):(i.classList.add("invalid"),o.classList.add("error"),i.setCustomValidity("\n          At least 8 symbols, at least 1 uppercase letter and at least 1 number"),i.reportValidity(),!1);o.classList.add("error"),l.classList.add("invalid-email"),l.setCustomValidity("Example: alice.miller@yahoo.com"),l.reportValidity()},maxValue:function(e){e.target.value.length>40?(e.target.classList.add("invalid-email"),e.target.setCustomValidity("Please delete "+(e.target.value.length-40)+" extra symbols")):(e.target.classList.remove("invalid-email"),e.target.setCustomValidity("")),e.target.reportValidity()},checkIconEmail:function(e){const t=document.querySelector(".form__input--email");e.target===t&&(/\S+@\S+\.\S+/.test(t.value)?t.style.background='url("../img/check.svg") 98% center no-repeat':t.style.background="none")}},function(){const e=document.querySelector(".form"),t=document.querySelector(".form__input--f-name"),n=document.querySelector(".form__submit"),o=document.querySelector(".form__input--email"),i=document.querySelector(".form__input--password");t.focus(),e.addEventListener("input",(function(e){window.validation.maxValue(e),window.validation.checkIconEmail(e),""!==e.target.value&&e.target.classList.remove("invalid")}),!0),e.addEventListener("submit",(function(t){t.preventDefault(),window.validation.main(o.value,i.value)&&(n.setAttribute("disabled","disabled"),window.submitHandler(e))}),!0)}();